# FinishAuthorizeSDK

## Properties
Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**terminal_key** | **string** | Идентификатор терминала.  Выдается Мерчанту Тинькофф Кассой при заведении терминала | 
**payment_id** | **float** | Уникальный идентификатор транзакции в системе Тинькофф Кассы | 
**token** | **string** | Подпись запроса | 
**ip** | **string** | IP-адрес клиента.  Обязательный параметр для 3DS второй версии. DS платежной системы требует  передавать данный адрес в полном формате,  без какихлибо сокращений (8 групп по 4 символа).  Данный формат регламентируется на уровне спецификации EMVCo. | [optional] 
**send_email** | **bool** | * true – отправлять клиенту информацию на почту об оплате * false – не отправлять | [optional] 
**source** | **string** | Источник платежа. Является обязательным для Apple Pay или Google Pay | [optional] 
**data** | [**object**](.md) | JSON объект, содержащий дополнительные параметры в виде “ключ”:”значение”.  Данные параметры будут переданы на страницу оплаты (в случае ее кастомизации). Максимальная длина для каждого передаваемого параметра: * Ключ - 20 знаков; * Значение - 100 знаков. Максимальное количество пар «ключ-значение» не может  превышать 20. | [optional] 
**info_email** | **string** | Email для отправки информации об оплате. Обязателен при передаче SendEmai | [optional] 
**encrypted_payment_data** | **string** | Данные карты. Используется и является обязательным только  для ApplePay или GooglePay | [optional] 
**card_data** | **string** | Объект CardData собирается в виде списка &#x60;ключ&#x60;&#x3D;&#x60;значение&#x60; c разделителем &#x60;;&#x60;. Объект зашифровывается открытым ключом (X509 RSA 2048), получившееся бинарное значение кодируется в &#x60;Base64&#x60;. Открытый ключ генерируется Тинькофф Кассой и выдается при регистрации терминала. Все поля обязательны.  |Наименование|Тип данных|Обязательность|Описание| |---|---|---|---| |PAN|Number|ДА|Номер карты| |ExpDate| Number|Да| Месяц и год срока действия карты в формате MMYY| |CardHolder |String| Нет| Имя и фамилия держателя карты (как на карте)| |CVV |String| Нет |Код защиты (с обратной стороны карты). Для платежей по Apple Pay (с расшифровкой токена на своей стороне) не является обязательным.| |ECI |String |Нет |Electronic Commerce Indicator. Индикатор, показывающий степень защиты, применяемую при предоставлении клиентом своих данных ТСП.| |CAVV |String |Нет |Cardholder Authentication Verification Value или Accountholder Authentication Value|   Пример значения элемента формы CardData: &#x60;&#x60;&#x60; PAN&#x3D;4300000000000777;ExpDate&#x3D;0519;CardHolder&#x3D;IVAN PETROV;CVV&#x3D;111 &#x60;&#x60;&#x60;  Для YandexPay (расшифровка токена происходит на стороне Мерчанта) надо: 1. Передавать &#x60;Route&#x3D;ACQ&#x60; и &#x60;Source&#x3D;YandexPay&#x60;; 2. Передавать в &#x60;DATA.transactionId&#x60; значение &#x60;PaymentToken.messageId&#x60;; 3. Передавать в &#x60;DATA.YandexPayWeb&#x60; значение true; 4. Передавать параметр **CardData**:     Размапить параметры из расшифрованного токена &#x60;event.token&#x60;     - &#x60;paymentMethodDetails.pan&#x60; в **pan**;     - &#x60;paymentMethodDetails,expirationMonth&#x60; + &#x60;paymentMethodDetails.expirationYear&#x60; в **ExpDate**;     - &#x60;paymentMethodDetails.cryptogram&#x60; в **CAVV** (если есть);     - &#x60;paymentMethodDetails.eci&#x60; в **ECI** (если есть)&lt;br&gt;  Для MirPay (если интеграция с НСПК для получения платежного токена) надо: 1. Передавать &#x60;Route&#x3D;ACQ&#x60; и &#x60;Source&#x3D; MirPay&#x60;; 1. Передавать в &#x60;DATA.transId&#x60; значение &#x60;transId&#x60;; 2. Передавать в &#x60;DATA.tavv&#x60; значение &#x60;cav&#x60;; 3. Передавать параметр **CardData**:     - **Pan** заполнять &#x60;tan&#x60;;     - **ExpDate** заполнять &#x60;tem + tey&#x60;&lt;br&gt; Для случая, когда Мерчант интегрируется только с Банком для проведения платежа по MirPay данный  метод не вызывается. Эквайер самостоятельно получает платежный токен и инициирует авторизацию,  вместо Мерчанта.&lt;br&gt;   В случае получения **CAVV** в **CardData** оплата будет проводиться как оплата токеном, иначе прохождение 3DS будет регулироваться стандартными настройками треминала/платежа.  Не используется и не является обязательным, если передается &#x60;EncryptedPaymentData&#x60; | 

[[Back to Model list]](../README.md#documentation-for-models) [[Back to API list]](../README.md#documentation-for-api-endpoints) [[Back to README]](../README.md)


